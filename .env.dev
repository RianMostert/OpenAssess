# ============================================================================
# OpenAssess Development Environment Configuration
# ============================================================================
# This file contains all configurable options for OpenAssess
# Copy this to .env for local development

# ============================================================================
# Application Settings
# ============================================================================
# Environment mode: 'dev' or 'production'
ENV=dev

# Docker image to use (leave unset to build locally)
# DOCKER_IMAGE=openassess:latest

# Seed database with demo users on startup (true/false)
SEED_DB=true

# Domain for Traefik routing (development)
DOMAIN=open-assess.localhost

# Frontend URL for CORS configuration
FRONTEND_URL=http://open-assess.localhost

# ============================================================================
# Frontend Configuration (Next.js)
# ============================================================================
# Backend host for API proxying (defaults to localhost in Docker)
NEXT_PUBLIC_BACKEND_HOST=localhost
NEXT_PUBLIC_BACKEND_PORT=8000

# Allowed origins for CORS and server actions (comma-separated)
# Include your local IPs and Tailscale IPs here if needed
NEXT_PUBLIC_ALLOWED_ORIGINS=localhost:3000,127.0.0.1:3000,*.local:3000,open-assess.localhost

# ============================================================================
# Security Configuration
# ============================================================================
# JWT Secret Key - DEVELOPMENT ONLY, not secure for production!
# Generate secure key with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=dev-secret-key-do-not-use-in-production

# JWT Algorithm
ALGORITHM=HS256

# JWT token expiration in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================================================
# Database Configuration
# ============================================================================
# Full database connection string
DATABASE_CONNECTION_STRING=postgresql://devuser:devpassword@postgres:5432/openassess_dev

# Individual database settings (used by postgres container)
POSTGRES_DB=openassess_dev
POSTGRES_USER=devuser
POSTGRES_PASSWORD=devpassword

# ============================================================================
# Storage Paths (inside container)
# ============================================================================
JSON_STORAGE_PATH=storage/json/
QUESTION_PAPER_STORAGE_FOLDER=storage/pdfs/question_papers/
ANSWER_SHEET_STORAGE_FOLDER=storage/pdfs/answer_sheets/
ANNOTATION_STORAGE_FOLDER=storage/jsons/annotations/

# ============================================================================
# Traefik Configuration
# ============================================================================
# Traefik network name
TRAEFIK_NETWORK=traefik

# ============================================================================
# Testing Configuration
# ============================================================================
# Test database connection string
TEST_DATABASE_URL=postgresql://devuser:devpassword@postgres:5432/openassess_test

# Test user credentials
TEST_STUDENT_EMAIL=test.student@example.com
TEST_STUDENT_PASSWORD=testpassword123
TEST_LECTURER_EMAIL=test.lecturer@example.com
TEST_LECTURER_PASSWORD=testpassword123

# ============================================================================
# CI/CD Configuration
# ============================================================================
CI=false
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=false


