--
-- PostgreSQL database dump
--

\restrict KULLsSG2mzTfWl7zIsacWFF1Mdaddv40Befe6GsaxsF3Fg9v7eYEIrDfGVbF8dd

-- Dumped from database version 14.19 (Homebrew)
-- Dumped by pg_dump version 14.19 (Homebrew)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: courserole; Type: TYPE; Schema: public; Owner: rianmostert
--

CREATE TYPE public.courserole AS ENUM (
    'CONVENER',
    'FACILITATOR',
    'STUDENT'
);


ALTER TYPE public.courserole OWNER TO rianmostert;

--
-- Name: primaryrole; Type: TYPE; Schema: public; Owner: rianmostert
--

CREATE TYPE public.primaryrole AS ENUM (
    'ADMINISTRATOR',
    'TEACHER',
    'STUDENT'
);


ALTER TYPE public.primaryrole OWNER TO rianmostert;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: alembic_version; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.alembic_version (
    version_num character varying(32) NOT NULL
);


ALTER TABLE public.alembic_version OWNER TO rianmostert;

--
-- Name: assessment; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.assessment (
    id uuid NOT NULL,
    title character varying NOT NULL,
    course_id uuid NOT NULL,
    question_paper_file_path text,
    upload_date timestamp without time zone DEFAULT now(),
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now(),
    published boolean DEFAULT false NOT NULL
);


ALTER TABLE public.assessment OWNER TO rianmostert;

--
-- Name: course; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.course (
    id uuid NOT NULL,
    title character varying NOT NULL,
    teacher_id uuid,
    code character varying,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.course OWNER TO rianmostert;

--
-- Name: mark_query; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.mark_query (
    id uuid NOT NULL,
    student_id uuid NOT NULL,
    assessment_id uuid NOT NULL,
    requested_change text NOT NULL,
    status character varying DEFAULT 'pending'::character varying NOT NULL,
    reviewer_id uuid,
    reviewer_response text,
    created_at timestamp with time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp with time zone,
    CONSTRAINT check_status CHECK (((status)::text = ANY ((ARRAY['pending'::character varying, 'under_review'::character varying, 'approved'::character varying, 'rejected'::character varying, 'resolved'::character varying])::text[])))
);


ALTER TABLE public.mark_query OWNER TO rianmostert;

--
-- Name: mark_query_questions; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.mark_query_questions (
    mark_query_id uuid NOT NULL,
    question_id uuid NOT NULL
);


ALTER TABLE public.mark_query_questions OWNER TO rianmostert;

--
-- Name: question; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.question (
    id uuid NOT NULL,
    assessment_id uuid NOT NULL,
    question_number character varying NOT NULL,
    max_marks double precision,
    increment double precision,
    memo text,
    marking_note text,
    page_number integer,
    x double precision,
    y double precision,
    width double precision,
    height double precision,
    created_at timestamp without time zone DEFAULT now(),
    updated_memo_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.question OWNER TO rianmostert;

--
-- Name: question_result; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.question_result (
    id uuid NOT NULL,
    student_id uuid NOT NULL,
    assessment_id uuid NOT NULL,
    question_id uuid NOT NULL,
    marker_id uuid NOT NULL,
    mark double precision,
    comment text,
    annotation_file_path text,
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.question_result OWNER TO rianmostert;

--
-- Name: role; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.role (
    id integer NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public.role OWNER TO rianmostert;

--
-- Name: role_id_seq; Type: SEQUENCE; Schema: public; Owner: rianmostert
--

ALTER TABLE public.role ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.role_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: uploaded_file; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.uploaded_file (
    id uuid NOT NULL,
    assessment_id uuid NOT NULL,
    student_id uuid NOT NULL,
    answer_sheet_file_path text NOT NULL,
    uploaded_by uuid NOT NULL,
    uploaded_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.uploaded_file OWNER TO rianmostert;

--
-- Name: user; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public."user" (
    id uuid NOT NULL,
    first_name character varying NOT NULL,
    last_name character varying NOT NULL,
    email character varying NOT NULL,
    student_number character varying,
    password_hash character varying NOT NULL,
    primary_role_id integer,
    is_admin boolean DEFAULT false,
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now(),
    primary_role public.primaryrole DEFAULT 'STUDENT'::public.primaryrole NOT NULL
);


ALTER TABLE public."user" OWNER TO rianmostert;

--
-- Name: user_course_role; Type: TABLE; Schema: public; Owner: rianmostert
--

CREATE TABLE public.user_course_role (
    user_id uuid NOT NULL,
    course_id uuid NOT NULL,
    role_id integer NOT NULL,
    is_convener boolean DEFAULT false NOT NULL,
    course_role public.courserole DEFAULT 'STUDENT'::public.courserole NOT NULL
);


ALTER TABLE public.user_course_role OWNER TO rianmostert;

--
-- Data for Name: alembic_version; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.alembic_version (version_num) FROM stdin;
2b67d2efeac2
\.


--
-- Data for Name: assessment; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.assessment (id, title, course_id, question_paper_file_path, upload_date, created_at, updated_at, published) FROM stdin;
54c2586c-8efc-4cae-b583-281729ef62b1	A1	b8b6e963-0847-4d10-bd63-b99023b7914d	storage/pdfs/question_papers/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/3786f232-45d3-4d2d-ba53-079bb3fe60c4_rw343_A1_2023-1-2.pdf	2025-08-22 21:16:07.238499	2025-08-22 21:16:07.238499	2025-09-10 22:12:55.790732	t
acd42391-a1ee-48f4-9540-1ab9a020c24c	ass1	b8b6e963-0847-4d10-bd63-b99023b7914d	\N	2025-09-10 22:51:57.480213	2025-09-10 22:51:57.480213	2025-09-10 22:51:57.480213	f
e81903f8-f660-4b27-a920-f66dad1edbf1	ass2	b8b6e963-0847-4d10-bd63-b99023b7914d	\N	2025-09-10 22:53:27.369536	2025-09-10 22:53:27.369536	2025-09-10 22:53:27.369536	f
7c65b95c-8ddf-4f67-96e4-faa4954f3eec	ass3	b8b6e963-0847-4d10-bd63-b99023b7914d	\N	2025-09-10 22:53:32.024461	2025-09-10 22:53:32.024461	2025-09-10 22:53:32.024461	f
a7390c7c-4b9a-4a72-9bb2-b91bd89319d6	ass4	b8b6e963-0847-4d10-bd63-b99023b7914d	\N	2025-09-10 22:53:35.610722	2025-09-10 22:53:35.610722	2025-09-10 22:53:35.610722	f
e8db5069-1398-4726-8e6e-af1bd641b414	ass5	b8b6e963-0847-4d10-bd63-b99023b7914d	\N	2025-09-10 22:53:40.713583	2025-09-10 22:53:40.713583	2025-09-10 22:53:40.713583	f
2be26548-cb9d-41f7-9860-0335a9a9a220	ass6	b8b6e963-0847-4d10-bd63-b99023b7914d	\N	2025-09-10 22:56:39.687596	2025-09-10 22:56:39.687596	2025-09-10 22:56:39.687596	f
ce464bae-e421-496f-8a27-b35b72380ba0	Assighnment 5	24005bf6-c47f-4973-bb33-7ce283f80881	storage/pdfs/question_papers/24005bf6-c47f-4973-bb33-7ce283f80881/ce464bae-e421-496f-8a27-b35b72380ba0/7b70d291-e1a2-4dfd-8189-107a22e93ed7_assignment5.pdf	2025-09-29 11:26:31.867065	2025-09-29 11:26:31.867065	2025-09-29 11:57:10.042725	t
\.


--
-- Data for Name: course; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.course (id, title, teacher_id, code, created_at) FROM stdin;
b8b6e963-0847-4d10-bd63-b99023b7914d	CS	b9b8aa9d-64d4-4414-94e2-8af619f7168b	244	2025-08-22 21:15:45.117096
8b6da205-a912-421b-9e9f-4484a524872f	CS	b8e541b1-be97-4941-8cea-2683dd5ab223	214	2025-09-15 21:58:48.186064
5d0aaa33-1501-48a6-9ad4-03e0f4e311ab	new course	b9b8aa9d-64d4-4414-94e2-8af619f7168b	789	2025-09-22 14:13:22.616227
ff415c64-f6c8-41ac-9114-8b1c8d9c0dad	Computer vision	cac6532a-3d1a-4e03-9950-587aab764dbf	244	2025-09-29 11:09:42.734507
24005bf6-c47f-4973-bb33-7ce283f80881	Computer vision	cac6532a-3d1a-4e03-9950-587aab764dbf	248	2025-09-29 11:19:27.456513
\.


--
-- Data for Name: mark_query; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.mark_query (id, student_id, assessment_id, requested_change, status, reviewer_id, reviewer_response, created_at, updated_at) FROM stdin;
f900fb9d-5022-44a7-9e18-67a1323d2447	c1e9a63b-f5b4-47c1-b4dc-41790e517524	ce464bae-e421-496f-8a27-b35b72380ba0	Please remark, many mistakes I think	approved	cac6532a-3d1a-4e03-9950-587aab764dbf		2025-09-29 12:03:33.809419+02	2025-09-29 10:46:38.643354+02
f0f3c241-2311-44bf-893b-45be936cdc2d	c1e9a63b-f5b4-47c1-b4dc-41790e517524	ce464bae-e421-496f-8a27-b35b72380ba0	please remark this question	approved	cac6532a-3d1a-4e03-9950-587aab764dbf		2025-09-29 13:14:07.870851+02	2025-09-29 11:14:48.708438+02
c768242c-0fb6-4a3c-85a6-5fcd781fae91	c1e9a63b-f5b4-47c1-b4dc-41790e517524	ce464bae-e421-496f-8a27-b35b72380ba0	remark please	approved	cac6532a-3d1a-4e03-9950-587aab764dbf		2025-09-29 14:02:59.444417+02	2025-09-29 12:08:35.227083+02
b0555b21-99b7-4c18-a89d-056e95c2a64b	921ef7df-b9d5-4ee7-a657-690fc9a623ae	ce464bae-e421-496f-8a27-b35b72380ba0	I want higher marks	approved	cac6532a-3d1a-4e03-9950-587aab764dbf	what ever	2025-09-29 23:48:36.66504+02	2025-09-29 21:53:24.622014+02
0205a901-ee0d-4d90-b24d-6f5db64022d1	c1e9a63b-f5b4-47c1-b4dc-41790e517524	ce464bae-e421-496f-8a27-b35b72380ba0	please mark this	approved	cac6532a-3d1a-4e03-9950-587aab764dbf	asdfadfasdf	2025-09-29 23:46:18.158695+02	2025-09-30 08:18:22.251285+02
\.


--
-- Data for Name: mark_query_questions; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.mark_query_questions (mark_query_id, question_id) FROM stdin;
0205a901-ee0d-4d90-b24d-6f5db64022d1	4dc6413c-dbf9-4e9e-8609-ccc08e0d3441
b0555b21-99b7-4c18-a89d-056e95c2a64b	4dc6413c-dbf9-4e9e-8609-ccc08e0d3441
\.


--
-- Data for Name: question; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.question (id, assessment_id, question_number, max_marks, increment, memo, marking_note, page_number, x, y, width, height, created_at, updated_memo_at) FROM stdin;
831e2435-ad16-492a-b373-58cfa6537558	54c2586c-8efc-4cae-b583-281729ef62b1	Question 1	3	1			1	9.566	33.892	82.27	53.892	2025-08-22 21:16:50.71285	\N
09156c3f-69e3-4224-bec3-8f4e8022e478	54c2586c-8efc-4cae-b583-281729ef62b1	Question 2	2	1			2	10.204	8.966	83.801	32.118	2025-08-22 21:17:09.558951	\N
e4b41da2-01f2-42cd-bb9f-789c6c52fad2	54c2586c-8efc-4cae-b583-281729ef62b1	Question 3	2	1			2	13.273	74.576	81.238	17.565	2025-09-09 21:50:58.167411	\N
05bc83d5-9732-41ec-b05d-14d9d2d017e2	54c2586c-8efc-4cae-b583-281729ef62b1	Question 4	5	2			2	9.308	42.993	84.615	28.029	2025-09-15 19:36:33.917677	\N
49d40b85-aba9-44ce-b29e-863ce0199992	54c2586c-8efc-4cae-b583-281729ef62b1	Question 6	6	1			1	12.538	5.344	76.769	25.059	2025-09-15 19:36:57.494734	\N
4dc6413c-dbf9-4e9e-8609-ccc08e0d3441	ce464bae-e421-496f-8a27-b35b72380ba0	Question one	5	1			1	6.505	4.509	88.265	21.19	2025-09-29 11:27:56.678194	\N
\.


--
-- Data for Name: question_result; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.question_result (id, student_id, assessment_id, question_id, marker_id, mark, comment, annotation_file_path, created_at, updated_at) FROM stdin;
de1dcc3e-9a53-4802-b7b4-70905c5895e7	68b5b30d-6855-4344-8447-5cd175b319d1	54c2586c-8efc-4cae-b583-281729ef62b1	09156c3f-69e3-4224-bec3-8f4e8022e478	b9b8aa9d-64d4-4414-94e2-8af619f7168b	2		storage/jsons/annotations/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/68b5b30d-6855-4344-8447-5cd175b319d1/de1dcc3e-9a53-4802-b7b4-70905c5895e7.json	2025-08-22 21:20:08.568081	\N
3a3ba85a-fd8a-4fa4-8303-382962ac96f2	921ef7df-b9d5-4ee7-a657-690fc9a623ae	54c2586c-8efc-4cae-b583-281729ef62b1	09156c3f-69e3-4224-bec3-8f4e8022e478	b9b8aa9d-64d4-4414-94e2-8af619f7168b	0		storage/jsons/annotations/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/921ef7df-b9d5-4ee7-a657-690fc9a623ae/3a3ba85a-fd8a-4fa4-8303-382962ac96f2.json	2025-08-22 21:18:20.719606	\N
1ce0ed6b-d310-4bbd-a196-7bd4de026e25	c1e9a63b-f5b4-47c1-b4dc-41790e517524	54c2586c-8efc-4cae-b583-281729ef62b1	831e2435-ad16-492a-b373-58cfa6537558	b9b8aa9d-64d4-4414-94e2-8af619f7168b	2		storage/jsons/annotations/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/c1e9a63b-f5b4-47c1-b4dc-41790e517524/1ce0ed6b-d310-4bbd-a196-7bd4de026e25.json	2025-09-07 21:35:43.377967	\N
3aac3a6a-91ac-461d-af13-e37a64577bed	921ef7df-b9d5-4ee7-a657-690fc9a623ae	ce464bae-e421-496f-8a27-b35b72380ba0	4dc6413c-dbf9-4e9e-8609-ccc08e0d3441	cac6532a-3d1a-4e03-9950-587aab764dbf	5		storage/jsons/annotations/24005bf6-c47f-4973-bb33-7ce283f80881/ce464bae-e421-496f-8a27-b35b72380ba0/921ef7df-b9d5-4ee7-a657-690fc9a623ae/3aac3a6a-91ac-461d-af13-e37a64577bed.json	2025-09-29 11:56:46.069797	2025-09-29 23:48:00.319333
8767c54f-91c7-42d4-a3fc-7fe86e5720b1	c1e9a63b-f5b4-47c1-b4dc-41790e517524	ce464bae-e421-496f-8a27-b35b72380ba0	4dc6413c-dbf9-4e9e-8609-ccc08e0d3441	cac6532a-3d1a-4e03-9950-587aab764dbf	4		storage/jsons/annotations/24005bf6-c47f-4973-bb33-7ce283f80881/ce464bae-e421-496f-8a27-b35b72380ba0/c1e9a63b-f5b4-47c1-b4dc-41790e517524/8767c54f-91c7-42d4-a3fc-7fe86e5720b1.json	2025-09-29 11:56:35.46718	2025-09-29 23:47:55.527362
ab116a43-4f19-41f5-a78f-827469c6bcb9	68b5b30d-6855-4344-8447-5cd175b319d1	54c2586c-8efc-4cae-b583-281729ef62b1	831e2435-ad16-492a-b373-58cfa6537558	b9b8aa9d-64d4-4414-94e2-8af619f7168b	3		storage/jsons/annotations/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/68b5b30d-6855-4344-8447-5cd175b319d1/ab116a43-4f19-41f5-a78f-827469c6bcb9.json	2025-08-26 23:06:49.64406	\N
5a088778-837e-4f91-bbd4-3d4ccbe0ad79	68b5b30d-6855-4344-8447-5cd175b319d1	54c2586c-8efc-4cae-b583-281729ef62b1	e4b41da2-01f2-42cd-bb9f-789c6c52fad2	b9b8aa9d-64d4-4414-94e2-8af619f7168b	2		storage/jsons/annotations/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/68b5b30d-6855-4344-8447-5cd175b319d1/5a088778-837e-4f91-bbd4-3d4ccbe0ad79.json	2025-09-15 19:43:27.111948	\N
1d11ae8a-afe1-43a3-b6a4-06b4bbf6e006	68b5b30d-6855-4344-8447-5cd175b319d1	54c2586c-8efc-4cae-b583-281729ef62b1	05bc83d5-9732-41ec-b05d-14d9d2d017e2	b9b8aa9d-64d4-4414-94e2-8af619f7168b	4		storage/jsons/annotations/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/68b5b30d-6855-4344-8447-5cd175b319d1/1d11ae8a-afe1-43a3-b6a4-06b4bbf6e006.json	2025-09-15 19:43:46.623346	\N
82c0563d-a2f2-4bd1-8718-f71585f21b94	68b5b30d-6855-4344-8447-5cd175b319d1	54c2586c-8efc-4cae-b583-281729ef62b1	49d40b85-aba9-44ce-b29e-863ce0199992	b9b8aa9d-64d4-4414-94e2-8af619f7168b	6		storage/jsons/annotations/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/68b5b30d-6855-4344-8447-5cd175b319d1/82c0563d-a2f2-4bd1-8718-f71585f21b94.json	2025-09-15 19:44:57.802826	\N
1a217682-b1c5-4728-ad99-1e9511b0e9cd	921ef7df-b9d5-4ee7-a657-690fc9a623ae	54c2586c-8efc-4cae-b583-281729ef62b1	831e2435-ad16-492a-b373-58cfa6537558	b9b8aa9d-64d4-4414-94e2-8af619f7168b	2		storage/jsons/annotations/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/921ef7df-b9d5-4ee7-a657-690fc9a623ae/1a217682-b1c5-4728-ad99-1e9511b0e9cd.json	2025-08-22 21:21:05.652696	\N
\.


--
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.role (id, name) FROM stdin;
1	teacher
2	ta
3	student
4	admin
\.


--
-- Data for Name: uploaded_file; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.uploaded_file (id, assessment_id, student_id, answer_sheet_file_path, uploaded_by, uploaded_at) FROM stdin;
998cc85e-11b5-4ba0-a685-2ffa224706c6	54c2586c-8efc-4cae-b583-281729ef62b1	68b5b30d-6855-4344-8447-5cd175b319d1	storage/pdfs/answer_sheets/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/68b5b30d-6855-4344-8447-5cd175b319d1.pdf	b9b8aa9d-64d4-4414-94e2-8af619f7168b	2025-08-22 21:17:59.590934
11f695f5-7c5e-4747-99d7-3c99ed7cb267	54c2586c-8efc-4cae-b583-281729ef62b1	921ef7df-b9d5-4ee7-a657-690fc9a623ae	storage/pdfs/answer_sheets/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/921ef7df-b9d5-4ee7-a657-690fc9a623ae.pdf	b9b8aa9d-64d4-4414-94e2-8af619f7168b	2025-08-22 21:17:59.590934
aaca4059-5dcd-4bdc-86d4-60d0901a42ae	54c2586c-8efc-4cae-b583-281729ef62b1	c1e9a63b-f5b4-47c1-b4dc-41790e517524	storage/pdfs/answer_sheets/b8b6e963-0847-4d10-bd63-b99023b7914d/54c2586c-8efc-4cae-b583-281729ef62b1/c1e9a63b-f5b4-47c1-b4dc-41790e517524.pdf	b9b8aa9d-64d4-4414-94e2-8af619f7168b	2025-09-07 21:35:09.485121
0cb205e6-44a3-41f6-ad01-ebbe1bb766a2	ce464bae-e421-496f-8a27-b35b72380ba0	921ef7df-b9d5-4ee7-a657-690fc9a623ae	storage/pdfs/answer_sheets/24005bf6-c47f-4973-bb33-7ce283f80881/ce464bae-e421-496f-8a27-b35b72380ba0/921ef7df-b9d5-4ee7-a657-690fc9a623ae.pdf	cac6532a-3d1a-4e03-9950-587aab764dbf	2025-09-29 11:51:13.336344
0a5ac06d-876a-4bbc-82f9-06e51b290836	ce464bae-e421-496f-8a27-b35b72380ba0	c1e9a63b-f5b4-47c1-b4dc-41790e517524	storage/pdfs/answer_sheets/24005bf6-c47f-4973-bb33-7ce283f80881/ce464bae-e421-496f-8a27-b35b72380ba0/c1e9a63b-f5b4-47c1-b4dc-41790e517524.pdf	cac6532a-3d1a-4e03-9950-587aab764dbf	2025-09-29 11:51:13.336344
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public."user" (id, first_name, last_name, email, student_number, password_hash, primary_role_id, is_admin, created_at, updated_at, primary_role) FROM stdin;
b9b8aa9d-64d4-4414-94e2-8af619f7168b	Teacher	Account	11111111@sun.ac.za	11111111	$2b$12$Is0NPfhOgGatX0dytp4LfuNpQKMSdnS6z7GOP83dp331MoqUtYGla	1	f	2025-07-13 13:11:23.214957	2025-07-13 13:11:23.214957	STUDENT
ec0d154c-cfac-474b-8124-ce84ac765153	John	Doe	john.doe@example.com	12345	$2b$12$bAncjpeH132cTSKJl6paRuCRAxPRAoXruuL03nDe9JSVZQFJlxxde	3	f	2025-07-15 20:36:59.382788	2025-07-15 20:36:59.382788	STUDENT
c57e050d-4662-47f5-bbd8-b3952e087cbb	Jane	Smith	jane.smith@example.com	12346	$2b$12$YRZegIhqmhKKNGnAKt.ENeVxQc.szrLyzg8ERSBV5wqyurdAyiyiy	3	f	2025-07-15 20:36:59.382788	2025-07-15 20:36:59.382788	STUDENT
defbd40a-9a41-4fec-bafe-6041e595cda8	Josh	Hill	josh.hill@example.com	12347	$2b$12$QUeCt0CvyqgtmjyHoixNWOACCyxPfWlkTRn1/2LfXKSsoMdJossiW	3	f	2025-07-18 06:06:01.305658	2025-07-18 06:06:01.305658	STUDENT
68b5b30d-6855-4344-8447-5cd175b319d1	Jane	Smith	22334455@example.com	22334455	$2b$12$SYqYO6KxRbSv4.lhtNL41OgOb6IeNmIuk.jxQfYl.3YPPRL3thjxO	3	f	2025-07-30 14:36:31.421951	2025-07-30 14:36:31.421951	STUDENT
c1e9a63b-f5b4-47c1-b4dc-41790e517524	Student	Test	44444444@sun.ac.za	44444444	$2b$12$Mq5biAneeLJNnGIXUWhR/OSM7YSgpwIL9Xz7QY26IoRbm35T3i4X.	3	f	2025-08-24 09:18:57.900264	2025-08-24 09:18:57.900264	STUDENT
921ef7df-b9d5-4ee7-a657-690fc9a623ae	John	Doe	11223344@example.com	11223344	$2b$12$EmIplQVf35sYMne.KjJ4Buh.eupzx.9HQK8sCMZD0KgQKunK1YF/m	3	f	2025-07-30 14:36:31.421951	2025-08-26 22:41:09.825554	STUDENT
1d6b0bf3-9388-483a-9f95-27cc4e2e2a43	New	New	new@gmail.com	\N	$2b$12$b2DO2UyI3wThfo3TlK6yqez49AbgVZ/GY0gSJNznPt4tqgLaMd1qa	3	f	2025-09-09 20:52:29.422393	2025-09-09 20:52:29.422393	STUDENT
0ccdc9c3-88bb-463d-bb4c-7841d75a91c6	Admin	User	admin@example.com	\N	$2b$12$OEpA0uFiGOJrMxRbEAZV1ObeNc4jvPM0aa1hgXPwxeQOJNTc0nmT6	4	t	2025-09-15 21:17:59.913797	2025-09-15 21:17:59.913797	STUDENT
b8e541b1-be97-4941-8cea-2683dd5ab223	Willem	Bester	willbest@sun.ac.za	09876543	$2b$12$Ok0f.GQfOXS4FR21FQwQXuLUXwmlt9JIaq/HYzS4zACxwDkoqx57m	1	f	2025-09-15 21:27:48.770321	2025-09-15 21:27:48.770321	STUDENT
cac6532a-3d1a-4e03-9950-587aab764dbf	John	Teacher	teacher@example.com	\N	$2b$12$H8p1Ibm.d5zCIudYUg5d1.v2.5iKK.0gJP2xWyIf/Ta4fmtdEcEIS	\N	f	2025-09-28 23:52:54.898254	2025-09-28 23:52:54.898254	TEACHER
27e3191f-b21e-455c-8f8e-076efc119754	Jane	Student	student@example.com	12345678	$2b$12$1L1RcmRUo9qPOTpViGRMQuFTQwXrJZtZVnddD.JatUffGtbEqGJcm	\N	f	2025-09-28 23:52:54.898254	2025-09-28 23:52:54.898254	STUDENT
\.


--
-- Data for Name: user_course_role; Type: TABLE DATA; Schema: public; Owner: rianmostert
--

COPY public.user_course_role (user_id, course_id, role_id, is_convener, course_role) FROM stdin;
b8e541b1-be97-4941-8cea-2683dd5ab223	8b6da205-a912-421b-9e9f-4484a524872f	1	t	STUDENT
b9b8aa9d-64d4-4414-94e2-8af619f7168b	5d0aaa33-1501-48a6-9ad4-03e0f4e311ab	1	t	STUDENT
b8e541b1-be97-4941-8cea-2683dd5ab223	5d0aaa33-1501-48a6-9ad4-03e0f4e311ab	1	f	STUDENT
cac6532a-3d1a-4e03-9950-587aab764dbf	24005bf6-c47f-4973-bb33-7ce283f80881	1	t	CONVENER
921ef7df-b9d5-4ee7-a657-690fc9a623ae	24005bf6-c47f-4973-bb33-7ce283f80881	3	f	STUDENT
68b5b30d-6855-4344-8447-5cd175b319d1	24005bf6-c47f-4973-bb33-7ce283f80881	3	f	STUDENT
c1e9a63b-f5b4-47c1-b4dc-41790e517524	24005bf6-c47f-4973-bb33-7ce283f80881	3	f	STUDENT
1d6b0bf3-9388-483a-9f95-27cc4e2e2a43	24005bf6-c47f-4973-bb33-7ce283f80881	3	f	STUDENT
b9b8aa9d-64d4-4414-94e2-8af619f7168b	b8b6e963-0847-4d10-bd63-b99023b7914d	1	f	STUDENT
921ef7df-b9d5-4ee7-a657-690fc9a623ae	b8b6e963-0847-4d10-bd63-b99023b7914d	3	f	STUDENT
68b5b30d-6855-4344-8447-5cd175b319d1	b8b6e963-0847-4d10-bd63-b99023b7914d	3	f	STUDENT
c1e9a63b-f5b4-47c1-b4dc-41790e517524	b8b6e963-0847-4d10-bd63-b99023b7914d	3	f	STUDENT
\.


--
-- Name: role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: rianmostert
--

SELECT pg_catalog.setval('public.role_id_seq', 1, false);


--
-- Name: alembic_version alembic_version_pkc; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.alembic_version
    ADD CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num);


--
-- Name: assessment assessment_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.assessment
    ADD CONSTRAINT assessment_pkey PRIMARY KEY (id);


--
-- Name: course course_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT course_pkey PRIMARY KEY (id);


--
-- Name: mark_query mark_query_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.mark_query
    ADD CONSTRAINT mark_query_pkey PRIMARY KEY (id);


--
-- Name: mark_query_questions mark_query_questions_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.mark_query_questions
    ADD CONSTRAINT mark_query_questions_pkey PRIMARY KEY (mark_query_id, question_id);


--
-- Name: question question_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question
    ADD CONSTRAINT question_pkey PRIMARY KEY (id);


--
-- Name: question_result question_result_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question_result
    ADD CONSTRAINT question_result_pkey PRIMARY KEY (id);


--
-- Name: role role_name_key; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_name_key UNIQUE (name);


--
-- Name: role role_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT role_pkey PRIMARY KEY (id);


--
-- Name: uploaded_file unique_assessment_student_upload; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.uploaded_file
    ADD CONSTRAINT unique_assessment_student_upload UNIQUE (assessment_id, student_id);


--
-- Name: course unique_course_title_code; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT unique_course_title_code UNIQUE (title, code);


--
-- Name: question unique_question_number_per_assessment; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question
    ADD CONSTRAINT unique_question_number_per_assessment UNIQUE (assessment_id, question_number);


--
-- Name: question_result unique_question_result_per_student; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question_result
    ADD CONSTRAINT unique_question_result_per_student UNIQUE (assessment_id, student_id, question_id);


--
-- Name: uploaded_file uploaded_file_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.uploaded_file
    ADD CONSTRAINT uploaded_file_pkey PRIMARY KEY (id);


--
-- Name: user_course_role user_course_role_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.user_course_role
    ADD CONSTRAINT user_course_role_pkey PRIMARY KEY (user_id, course_id, role_id);


--
-- Name: user user_email_key; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_email_key UNIQUE (email);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: user user_student_number_key; Type: CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_student_number_key UNIQUE (student_number);


--
-- Name: ix_mark_query_assessment_id; Type: INDEX; Schema: public; Owner: rianmostert
--

CREATE INDEX ix_mark_query_assessment_id ON public.mark_query USING btree (assessment_id);


--
-- Name: ix_mark_query_status; Type: INDEX; Schema: public; Owner: rianmostert
--

CREATE INDEX ix_mark_query_status ON public.mark_query USING btree (status);


--
-- Name: ix_mark_query_student_id; Type: INDEX; Schema: public; Owner: rianmostert
--

CREATE INDEX ix_mark_query_student_id ON public.mark_query USING btree (student_id);


--
-- Name: course course_teacher_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT course_teacher_id_fkey FOREIGN KEY (teacher_id) REFERENCES public."user"(id);


--
-- Name: assessment fk_assessment_course; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.assessment
    ADD CONSTRAINT fk_assessment_course FOREIGN KEY (course_id) REFERENCES public.course(id) ON DELETE CASCADE;


--
-- Name: mark_query mark_query_assessment_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.mark_query
    ADD CONSTRAINT mark_query_assessment_id_fkey FOREIGN KEY (assessment_id) REFERENCES public.assessment(id) ON DELETE CASCADE;


--
-- Name: mark_query_questions mark_query_questions_mark_query_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.mark_query_questions
    ADD CONSTRAINT mark_query_questions_mark_query_id_fkey FOREIGN KEY (mark_query_id) REFERENCES public.mark_query(id) ON DELETE CASCADE;


--
-- Name: mark_query_questions mark_query_questions_question_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.mark_query_questions
    ADD CONSTRAINT mark_query_questions_question_id_fkey FOREIGN KEY (question_id) REFERENCES public.question(id) ON DELETE CASCADE;


--
-- Name: mark_query mark_query_reviewer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.mark_query
    ADD CONSTRAINT mark_query_reviewer_id_fkey FOREIGN KEY (reviewer_id) REFERENCES public."user"(id);


--
-- Name: mark_query mark_query_student_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.mark_query
    ADD CONSTRAINT mark_query_student_id_fkey FOREIGN KEY (student_id) REFERENCES public."user"(id);


--
-- Name: question question_assessment_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question
    ADD CONSTRAINT question_assessment_id_fkey FOREIGN KEY (assessment_id) REFERENCES public.assessment(id) ON DELETE CASCADE;


--
-- Name: question_result question_result_assessment_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question_result
    ADD CONSTRAINT question_result_assessment_id_fkey FOREIGN KEY (assessment_id) REFERENCES public.assessment(id) ON DELETE CASCADE;


--
-- Name: question_result question_result_marker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question_result
    ADD CONSTRAINT question_result_marker_id_fkey FOREIGN KEY (marker_id) REFERENCES public."user"(id);


--
-- Name: question_result question_result_question_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question_result
    ADD CONSTRAINT question_result_question_id_fkey FOREIGN KEY (question_id) REFERENCES public.question(id) ON DELETE CASCADE;


--
-- Name: question_result question_result_student_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.question_result
    ADD CONSTRAINT question_result_student_id_fkey FOREIGN KEY (student_id) REFERENCES public."user"(id);


--
-- Name: uploaded_file uploaded_file_assessment_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.uploaded_file
    ADD CONSTRAINT uploaded_file_assessment_id_fkey FOREIGN KEY (assessment_id) REFERENCES public.assessment(id) ON DELETE CASCADE;


--
-- Name: uploaded_file uploaded_file_student_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.uploaded_file
    ADD CONSTRAINT uploaded_file_student_id_fkey FOREIGN KEY (student_id) REFERENCES public."user"(id);


--
-- Name: uploaded_file uploaded_file_uploaded_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.uploaded_file
    ADD CONSTRAINT uploaded_file_uploaded_by_fkey FOREIGN KEY (uploaded_by) REFERENCES public."user"(id);


--
-- Name: user_course_role user_course_role_course_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.user_course_role
    ADD CONSTRAINT user_course_role_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.course(id) ON DELETE CASCADE;


--
-- Name: user_course_role user_course_role_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.user_course_role
    ADD CONSTRAINT user_course_role_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.role(id);


--
-- Name: user_course_role user_course_role_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public.user_course_role
    ADD CONSTRAINT user_course_role_user_id_fkey FOREIGN KEY (user_id) REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: user user_primary_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: rianmostert
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_primary_role_id_fkey FOREIGN KEY (primary_role_id) REFERENCES public.role(id);


--
-- PostgreSQL database dump complete
--

\unrestrict KULLsSG2mzTfWl7zIsacWFF1Mdaddv40Befe6GsaxsF3Fg9v7eYEIrDfGVbF8dd

