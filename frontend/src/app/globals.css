@tailwind base;
@tailwind components;
@tailwind utilities;

/* Raleway Font Family */
@font-face {
  font-family: 'SU-raleway';
  src: url('/fonts/SU-raleway-regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SU-raleway';
  src: url('/fonts/SU-raleway-medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SU-raleway';
  src: url('/fonts/SU-raleway-semibold.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SU-raleway';
  src: url('/fonts/SU-raleway-bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SU-raleway';
  src: url('/fonts/SU-raleway-extrabold.ttf') format('truetype');
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SU-raleway';
  src: url('/fonts/SU-raleway-light.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

:root {
  --radius: 0.625rem;
  
  /* Brand Colors */
  --brand-primary: rgb(97, 34, 59);
  --brand-accent: rgb(183, 153, 98);
  
  /* Updated color scheme using brand colors */
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  
  /* Primary color now uses brand burgundy */
  --primary: var(--brand-primary);
  --primary-foreground: oklch(0.985 0 0);
  
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  
  /* Accent color now uses brand gold */
  --accent: var(--brand-accent);
  --accent-foreground: oklch(0.145 0 0);
  
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: var(--brand-primary);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    border-color: #e5e7eb; /* Tailwind's border-gray-200 */
  }

  body {
    background-color: #ffffff;
    color: #1a202c;
    font-family: 'SU-raleway', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Mobile-first responsive design utilities */
  html {
    font-size: 16px; /* Base font size */
  }
  
  /* Prevent the whole page from scrolling/bouncing on touch devices */
  html, body {
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
    overscroll-behavior: none; /* Prevent pull-to-refresh and overscroll bounce */
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
  }
  
  /* Smooth scrolling for better UX */
  html {
    scroll-behavior: smooth;
  }
  
  /* Touch-friendly scrollbar styles */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background-color: #9ca3af; /* Tailwind's bg-gray-400 */
    border-radius: 0.25rem;    /* Tailwind's rounded */
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background-color: #6b7280; /* Tailwind's bg-gray-500 */
  }
  
  /* Touch and stylus optimizations */
  .touch-manipulation {
    touch-action: manipulation; /* Improve touch responsiveness */
  }
  
  /* Stylus-specific improvements */
  @media (pointer: fine) and (hover: hover) {
    /* Desktop/stylus with precise pointing */
    .cursor-crosshair {
      cursor: crosshair;
    }
  }
  
  @media (pointer: coarse) {
    /* Touch devices - larger touch targets */
    button, 
    [role="button"], 
    input[type="button"], 
    input[type="submit"],
    .touch-target {
      min-height: 44px;
      min-width: 44px;
    }
  }
  
  /* Apple Pencil and stylus optimizations */
  @media (pointer: fine) {
    /* Fine pointer devices like stylus */
    .annotation-canvas,
    .drawing-surface {
      touch-action: none; /* Disable all touch gestures for better drawing */
    }
  }
  
  /* iPad and tablet specific styles */
  @media (max-device-width: 1366px) and (orientation: landscape),
         (max-device-width: 1024px) and (orientation: portrait) {
    /* iPad optimizations */
    .pdf-container {
      /* Prevent pinch-to-zoom during drawing but allow scrolling */
      touch-action: pan-y;
      overscroll-behavior: contain; /* Prevent scroll chaining to body */
      -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    }
    
    /* Better button spacing for touch */
    .toolbar-button {
      margin: 4px;
      padding: 12px;
    }
  }
  
  /* Mobile touch improvements */
  @media (max-width: 768px) {
    /* Larger touch targets */
    button, 
    [role="button"], 
    input[type="button"], 
    input[type="submit"] {
      min-height: 44px;
      min-width: 44px;
    }
    
    /* Better text sizing on mobile */
    html {
      font-size: 14px;
    }
    
    /* Prevent zoom on input focus */
    input, textarea, select {
      font-size: 16px;
    }
  }
  
  /* Tablet optimizations */
  @media (min-width: 768px) and (max-width: 1024px) {
    html {
      font-size: 15px;
    }
  }
  
  /* High DPI displays */
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Sharper borders and shadows for retina displays */
    .border {
      border-width: 0.5px;
    }
  }
  
  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Better focus indicators for keyboard navigation */
  button:focus-visible,
  [role="button"]:focus-visible {
    outline: 2px solid #3b82f6; /* blue-500 */
    outline-offset: 2px;
  }
}

/* Accessible visually-hidden helper (sr-only) - keeps content available to screen readers */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important; /* added line to prevent wrapping */
  border: 0 !important;
}